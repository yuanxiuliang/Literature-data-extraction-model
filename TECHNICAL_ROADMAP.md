# 单晶生长方法文献数据提取模型 - 技术路线图

## 项目业务流程

### 完整的数据处理流程

```
1. 文献搜索阶段
   ├── 用户输入关键词（如"single crystal growth"）
   ├── 调用学术搜索引擎API
   ├── 获取文献列表（标题、作者、摘要、DOI等）
   └── 筛选和排序搜索结果

2. PDF获取阶段
   ├── 根据搜索结果批量下载PDF
   ├── 处理开放获取和付费文献
   ├── 验证PDF文件完整性
   └── 本地存储PDF文件

3. PDF解析阶段
   ├── 提取PDF完整文本内容
   ├── 识别章节结构
   ├── 提取表格和图片信息
   └── 文本预处理和清洗

4. 文献筛选阶段
   ├── AI模型判断是否包含单晶生长方法
   ├── 识别具体的方法类型（Flux Method、CVT等）
   ├── 计算相关度评分
   └── 过滤低质量文献

5. 信息提取阶段
   ├── 提取晶体材料信息
   ├── 提取实验参数和生长条件
   ├── 提取结果数据
   └── 结构化数据验证

6. 数据存储阶段
   ├── 存储到MySQL数据库
   ├── 建立数据关联
   ├── 建立索引和查询优化
   └── 数据质量检查
```

### 关键技术特点

- **智能筛选**: 使用AI模型自动识别相关文献
- **批量处理**: 支持大规模文献的并行处理
- **质量控制**: 多层次的文献和数据质量检查
- **结构化存储**: 将非结构化文献转换为结构化数据

## 项目技术路线详细计划

### Phase 1: 项目基础环境搭建

#### 1.1 开发环境配置
- [ ] Python 3.8+ 环境安装与配置
- [ ] 虚拟环境创建与管理
- [ ] 项目目录结构创建
- [ ] Git 版本控制初始化

#### 1.2 依赖包管理
- [ ] requirements.txt 文件创建
- [ ] 核心依赖包安装：
  - FastAPI (Web框架)
  - SQLAlchemy (ORM)
  - SQLite3 (数据库)
  - spaCy (NLP处理)
  - transformers (AI模型)
  - PyMuPDF (PDF解析)
  - Selenium (网页爬虫)
  - BeautifulSoup4 (HTML解析)

#### 1.3 项目结构设计
```
project/
├── app/
│   ├── __init__.py
│   ├── main.py
│   ├── database/
│   ├── models/
│   ├── services/
│   ├── api/
│   └── utils/
├── data/
│   ├── raw_pdfs/
│   ├── processed_texts/
│   └── models/
├── tests/
├── docs/
├── requirements.txt
└── README.md
```

### Phase 2: 数据库设计与实现 ✅

#### 2.1 数据库环境配置 ✅
- [x] 配置本地MySQL 8.0数据库
- [x] 创建数据库和用户权限
- [x] 配置数据库连接参数
- [x] 设置开发环境配置

#### 2.2 数据库模型定义 ✅
- [x] 使用SQLAlchemy定义所有数据模型
- [x] 创建13个核心表的模型类
- [x] 定义表之间的关系和约束
- [x] 实现JSON字段的序列化/反序列化
- [x] 配置Alembic数据库迁移

#### 2.3 数据库初始化 ✅
- [x] 创建数据库表创建脚本
- [x] 实现Alembic迁移脚本
- [x] 添加示例数据用于测试
- [x] 配置数据库版本管理

#### 2.4 数据访问层 ✅
- [x] 创建CRUD操作基类
- [x] 实现各表的增删改查操作
- [x] 添加数据验证和错误处理
- [x] 实现复杂查询方法
- [x] 添加数据库连接池管理

### Phase 3: 文献搜索与PDF获取

#### 3.1 文献搜索功能
- [ ] 集成学术搜索引擎（Google Scholar、Semantic Scholar等）
- [ ] 实现关键词搜索（如"single crystal growth"、"crystal growth method"等）
- [ ] 获取搜索结果列表（标题、作者、摘要、DOI等）
- [ ] 实现搜索结果筛选和排序
- [ ] 支持中英文关键词搜索

#### 3.2 PDF批量下载
- [ ] 根据搜索结果批量下载PDF
- [ ] 处理开放获取和付费文献
- [ ] 实现下载进度跟踪
- [ ] 添加PDF文件验证和去重
- [ ] 支持断点续传和失败重试

#### 3.3 文献预处理
- [ ] 提取PDF基本元数据
- [ ] 实现PDF文本提取
- [ ] 添加文献质量检查
- [ ] 建立文献索引和分类

### Phase 4: PDF解析与文本提取

#### 4.1 PDF内容解析
- [ ] 使用PyMuPDF提取完整文本
- [ ] 识别章节结构（Abstract、Introduction、Experimental等）
- [ ] 提取表格和图片信息
- [ ] 处理中英文混合文档

#### 4.2 文本预处理
- [ ] 文本清洗和格式化
- [ ] 实验部分定位
- [ ] 关键词识别和标记
- [ ] 文本分块和分段

### Phase 5: 文献筛选与分类

#### 5.1 单晶生长方法识别
- [ ] 使用AI模型判断文献是否包含单晶生长方法
- [ ] 识别具体的方法类型（Flux Method、CVT等）
- [ ] 计算相关度评分
- [ ] 实现文献自动分类

#### 5.2 文献质量评估
- [ ] 评估文献的完整性和可用性
- [ ] 检查实验数据的完整性
- [ ] 实现文献质量评分
- [ ] 过滤低质量文献

### Phase 6: 信息提取与数据存储

#### 6.1 结构化信息提取
- [ ] 提取晶体材料信息
- [ ] 提取实验参数
- [ ] 提取生长条件
- [ ] 提取结果数据

#### 6.2 数据验证与存储
- [ ] 数据格式验证
- [ ] 数据完整性检查
- [ ] 存储到数据库
- [ ] 建立数据关联

### Phase 7: AI模型集成与训练

#### 7.1 预训练模型选择
- [ ] 评估和选择适合的预训练模型
- [ ] 下载和配置SciBERT模型
- [ ] 集成ChemBERTa模型
- [ ] 配置多语言模型支持

#### 7.2 模型微调准备
- [ ] 创建训练数据集
- [ ] 设计数据标注规范
- [ ] 实现数据预处理管道
- [ ] 建立模型评估指标

#### 7.3 模型训练与优化
- [ ] 实现模型微调脚本
- [ ] 训练命名实体识别模型
- [ ] 训练关系抽取模型
- [ ] 模型性能评估和优化

### Phase 8: Web用户界面开发

#### 8.1 后端API开发
- [ ] 设计RESTful API接口
- [ ] 实现文献搜索接口
- [ ] 实现数据查询接口
- [ ] 实现批量处理接口

#### 8.2 前端界面开发
- [ ] 使用React创建用户界面
- [ ] 实现文献搜索组件
- [ ] 实现数据展示组件
- [ ] 实现搜索和筛选功能

#### 8.3 数据可视化
- [ ] 实现提取结果可视化
- [ ] 添加统计图表
- [ ] 实现数据导出功能
- [ ] 添加进度显示

### Phase 9: 桌面应用开发

#### 9.1 Electron应用框架
- [ ] 集成Electron框架
- [ ] 配置应用打包环境
- [ ] 实现跨平台支持
- [ ] 优化应用性能

#### 9.2 本地服务集成
- [ ] 集成本地数据库服务
- [ ] 实现离线模式支持
- [ ] 添加自动更新机制
- [ ] 实现数据备份功能

#### 9.3 用户体验优化
- [ ] 实现拖拽上传功能
- [ ] 添加批量处理进度条
- [ ] 实现错误处理和提示
- [ ] 添加使用帮助文档

### Phase 10: 测试与优化

#### 10.1 单元测试
- [ ] 编写数据库操作测试
- [ ] 编写PDF解析测试
- [ ] 编写AI模型测试
- [ ] 编写API接口测试

#### 10.2 集成测试
- [ ] 端到端功能测试
- [ ] 性能压力测试
- [ ] 兼容性测试
- [ ] 用户体验测试

#### 10.3 模型优化
- [ ] 提取准确率优化
- [ ] 处理速度优化
- [ ] 内存使用优化
- [ ] 错误率降低

### Phase 11: 部署与文档

#### 11.1 云端部署准备
- [ ] 选择云服务商（阿里云/腾讯云/AWS等）
- [ ] 配置云端MySQL数据库
- [ ] 准备Docker镜像
- [ ] 配置CI/CD流水线

#### 11.2 应用打包
- [ ] 创建Docker镜像
- [ ] 配置docker-compose.yml
- [ ] 实现一键部署脚本
- [ ] 测试云端部署流程

#### 11.3 文档完善
- [ ] 编写用户使用手册
- [ ] 创建API文档
- [ ] 编写部署文档
- [ ] 录制使用视频

#### 11.4 发布准备
- [ ] 版本号管理
- [ ] 发布说明编写
- [ ] 测试版本发布
- [ ] 正式版本发布

## 技术难点与解决方案

### 难点1: 多语言文献处理
**解决方案**: 使用多语言预训练模型，结合规则和深度学习

### 难点2: 复杂表格信息提取
**解决方案**: 使用专门的表格解析库，结合OCR技术

### 难点3: 化学式识别
**解决方案**: 使用ChemBERTa等化学专用模型

### 难点4: 实验参数标准化
**解决方案**: 建立参数标准化规则库，使用正则表达式和NLP结合

### 难点5: 本地模型部署
**解决方案**: 使用Hugging Face本地推理，优化模型大小

## 质量保证措施

### 代码质量
- 遵循PEP 8编码规范
- 使用类型提示
- 编写完整的文档字符串
- 实现代码审查机制

### 测试覆盖
- 单元测试覆盖率 > 80%
- 集成测试覆盖主要功能
- 性能测试确保响应时间
- 用户验收测试验证需求

### 错误处理
- 完善的异常处理机制
- 详细的错误日志记录
- 用户友好的错误提示
- 自动错误恢复机制

## 风险评估与应对

### 技术风险
- **模型准确率不足**: 准备多个模型备选方案
- **PDF解析失败**: 实现多种解析方法
- **性能问题**: 优化算法和数据结构

### 项目风险
- **需求变更**: 保持代码模块化，便于修改
- **时间延期**: 分阶段交付，优先核心功能
- **资源不足**: 合理分配任务，使用开源资源

## 数据库技术选型说明

### 为什么选择MySQL？

#### 1. **技术一致性**
- **开发环境 = 生产环境**：避免环境差异导致的问题
- **功能一致性**：本地和生产使用相同的SQL功能
- **迁移风险低**：无需担心数据库兼容性问题

#### 2. **云端部署友好**
- **云服务商支持**：AWS RDS、阿里云RDS、腾讯云等都有MySQL服务
- **Docker化部署**：可以轻松容器化部署
- **数据备份**：云服务提供自动备份和恢复
- **扩展性**：可以根据需要调整数据库规格

#### 3. **团队协作**
- **数据共享**：可以导出数据库给其他人使用
- **演示方便**：可以部署到云端供他人访问
- **版本控制**：数据库结构变更可以版本化管理

### 本地开发环境

#### Docker + MySQL方案
```yaml
# docker-compose.yml
version: '3.8'
services:
  mysql:
    image: mysql:8.0
    environment:
      MYSQL_ROOT_PASSWORD: rootpassword
      MYSQL_DATABASE: crystal_growth
      MYSQL_USER: app_user
      MYSQL_PASSWORD: app_password
    ports:
      - "3306:3306"
    volumes:
      - mysql_data:/var/lib/mysql
      - ./init.sql:/docker-entrypoint-initdb.d/init.sql
```

#### 开发工作流
```bash
# 启动本地MySQL
docker-compose up -d

# 运行数据库迁移
alembic upgrade head

# 启动应用
python app/main.py
```

### 云端部署架构

#### 部署方案
```
应用服务器 → 云数据库MySQL → 数据备份
```

#### 云服务商选择
1. **阿里云RDS**：国内访问快，价格合理
2. **腾讯云CDB**：与阿里云类似
3. **AWS RDS**：功能最全，但国内访问较慢
4. **华为云RDS**：国产化选择

---

*此技术路线图将根据项目进展和需求变化进行动态调整*
